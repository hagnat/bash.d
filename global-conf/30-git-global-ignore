#!/bin/bash

echo -n "configuring global gitignore" $'\r'

GITIGNORE_GLOBAL=${HOME}/.gitignore_global
GITIGNORE_TEMPLATES=${HOME}/.bash.d/templates/gitignore/*.gitignore

touch ~/.gitignore_global

git config --global core.excludesfile ${GITIGNORE_GLOBAL}

for f in ${GITIGNORE_TEMPLATES}
do
    message="# autogenerated by template ${f}"
    grep "${message}" ${GITIGNORE_GLOBAL} >/dev/null

    if [[ 1 == $? ]]; then
        printf "\n\n${message}\n" >> ${GITIGNORE_GLOBAL}
        cat $f >> ${GITIGNORE_GLOBAL}
    fi
done
return;

